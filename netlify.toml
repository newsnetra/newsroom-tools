# --- Build settings ---
[build]
  # If you have a specific publish dir, keep it; otherwise remove this line
  # publish = "public"
  edge_functions = "netlify/edge-functions"

# --- Edge Functions directory ---
[edge_functions]
  directory = "netlify/edge-functions"

# --- Route mappings ---
# Protect homepage and /tools/*
[[edge_functions]]
  path = "/"
  function = "protect"

[[edge_functions]]
  path = "/tools/*"
  function = "protect"

# Optional logout route
[[edge_functions]]
  path = "/__logout"
  function = "protect"

# API route
[[edge_functions]]
  path = "/api/fetch-metadata"
  function = "fetch-metadata"
